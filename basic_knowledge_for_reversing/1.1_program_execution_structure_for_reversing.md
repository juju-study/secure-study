# 1. 리버싱을 위한 프로그램 실행 구조
### 컴퓨터의 기본 요소
* CPU
* 메모리
* 하드디스크
  * 프로그램을 실행할 수 있는 파일(exe)은 기본적으로 하드디스크에 저장됨.
### 윈도우 실행 파일, PE
프로그램을 실행하는 데 필요한 기본 정보와 파일을 메모리 어디에 저장해야 할지 알려주는 배치 정보가 들어있음.

* `헤더` : 배치 정보(중요함)이 들어 있음.
* `보디` : 코드, 데이터가 들어 있음.
1. PE 포맷으로 구성된 실행 파일을 클릭하면 운영체제에 있는 로더는 PE 헤더에 있는 정보를 분석해서 PE 보디에 있는 코드와 데이터를 메모리에 배치함.
2. PE 파일이 메모리에 로딩 될 때는 코드 영역과 데이터 영역에 자료가 들어감.
3. 프로그램이 실행되면서 스택 영역과 하프 영역에 데이터가 쌓이게 됨.
### 메모리
* `코드 영역` : 프로그램 코드가 들어감.
* `데이터 영역` : 정적 변수와 전역 변수가 들어감.
* `스택 영역` : 함수 호출 시 사용되는 매개 변수와 지역 변수가 저장됨.
* `하프 영역` : 동적 메모리 할당에 사용됨.
### PE 파일 실행
1. 엔트리 포인트가 PE 파일 실행이 시작되는 주소임.
2. OS는 메모리에 있는 PE 파일을 실행하기 위해 헤더 정보에서 엔트리 포인트 위치 찾음.
3. 엔트리 포인트 위치부터 프로그램을 실행하기 시작함.
### 컨텍스트 스위칭
하나의 프로그램이 CPU를 사용하려면 자신에게 필요한 데이터로 레지스터의 내용을 전부 바꿔야함. 여러 프로그램이 동시에 실행되기 때문에 번갈아 가면서 CPU를 사용함. CPU 사용이 끝나면 다른 프로그램에 CPU 사용 권한을 넘겨주는데, 자신이 사용하고 있던 모든 레지스터를 메모리 영역으로 복사해 놓음
